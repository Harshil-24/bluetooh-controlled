<!DOCTYPE html>
<html lang="en">
<head>
  <script src="https://aframe.io/releases/1.4.2/aframe.min.js"></script>
  <script>
    AFRAME.registerComponent('slow-gyro', {
      schema: {
        scale: { type: 'number', default: 0.3 }
      },
      init: function () {
        this.alpha = 0;
        this.beta = 0;
        this.gamma = 0;

        window.addEventListener('deviceorientation', (e) => {
          this.alpha = e.alpha || 0;
          this.beta = e.beta || 0;
          this.gamma = e.gamma || 0;
        }, true);
      },
      tick: function () {
        const camera = this.el;
        const rotation = camera.getAttribute('rotation');

        // Only modify Y rotation (yaw) to avoid clashing too much with look-controls
        rotation.y = this.alpha * this.data.scale;
        camera.setAttribute('rotation', rotation);
      }
    });
  </script>
</head>
<body>
  <a-scene>
    <!-- Camera with look-controls for touch drag, slow-gyro for reduced sensitivity -->
    <a-entity camera look-controls slow-gyro position="0 1.6 0"></a-entity>

    <!-- 360 background image -->
    <a-sky src="img.png"></a-sky>
  </a-scene>
</body>
</html>
